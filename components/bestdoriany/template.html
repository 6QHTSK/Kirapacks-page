<div v-loading="onloading" style="padding-left:20px;">
    <el-card shadow = "hover">
        <div style="text-align: center;">
            目前追踪中的谱师： {{results["chartercount"]}}；
            目前社区的谱面：{{results["chartcount"]}}；
            数据库更新于：{{results["time"]}}
        </div>
    </el-card>
    <el-tabs>
        <el-tab-pane label="自制谱面相关">
            <el-row :gutter="20">
                <el-col :xs="24" :s="24" :md="24" :lg="12" :xl="12">
                    <el-card header="自制谱面难度信息">
                        <el-row>
                            <el-col :span="18">
                                <canvas id="diffchart"></canvas>
                            </el-col>
                            <el-col :span="6">
                                <el-table :data="diffdata">
                                    <el-table-column prop="label" align="center"></el-table-column>
                                    <el-table-column prop="value" align="center"></el-table-column>
                                </el-table>
                            </el-col>
                        </el-row>
                        <el-row>
                            <canvas id="levelchart"></canvas>
                        </el-row>
                        <el-row>
                            <canvas id="timechart"></canvas>
                        </el-row>
                    </el-card>
                </el-col>
                <el-col :xs="24" :s="24" :md="24" :lg="12" :xl="12">
                    <el-card header="获赞最多的谱面">
                        <el-table :data='results["likechartdetail"]' style="text-align: center;" stripe>
                            <el-table-column prop="i" label="排名" width="50" align="center"></el-table-column>
                            <el-table-column prop="id" label="ID" align="center" width="80"></el-table-column>
                            <el-table-column prop="title" label="曲名" align="center"></el-table-column>
                            <el-table-column prop="name" label="谱师" align="center"></el-table-column>
                            <el-table-column prop="likes" label="获赞数" width="80" align="center"></el-table-column>
                        </el-table>
                    </el-card>
                </el-col>
            </el-row>
        </el-tab-pane>
        <el-tab-pane label="发谱/获赞最多的谱师">
            <el-row :gutter="20">
                <el-col :xs="24" :s="24" :md="24" :lg="12" :xl="12">
                    <el-card header="发谱最多的谱师">
                        <el-table :data='results["charterdetails"]' style="text-align: center;" stripe>
                            <el-table-column prop="i" label="排名" width="50" align="center"></el-table-column>
                            <!--el-table-column prop="nickname" label="用户名" align="center"></el-table-column-->
                            <el-table-column prop="name" label="用户名" align="center"></el-table-column>
                            <el-table-column prop="count" label="发谱数" width="80" align="center"></el-table-column>
                        </el-table>
                    </el-card>
                </el-col>
                <el-col :xs="24" :s="24" :md="24" :lg="12" :xl="12">
                    <el-card header="获赞最多的谱师">
                        <el-table :data='results["likecharterdetail"]' style="text-align: center;" stripe>
                            <el-table-column prop="i" label="排名" width="50" align="center"></el-table-column>
                            <!--el-table-column prop="nickname" label="用户名" align="center"></el-table-column-->
                            <el-table-column prop="name" label="用户名" align="center"></el-table-column>
                            <el-table-column prop="count" label="获赞数" width="80" align="center"></el-table-column>
                        </el-table>
                    </el-card>
                </el-col>
            </el-row>
        </el-tab-pane>
        <el-tab-pane label="EX/SP难度最高/最低的谱师">
            <el-alert title="仅统计难度EX/SP等级21~30的谱面的平均值，表中谱师要求上述谱面数量大于5" type="success"></el-alert>
            <p> </p>
            <el-row :gutter="20">
                <el-col :xs="24" :s="24" :md="24" :lg="12" :xl="12">
                    <el-card header="难度最高的谱师">
                        <el-table :data='results["highdiffcharterdetail"]' style="text-align: center;" stripe>
                            <el-table-column prop="i" label="排名" width="50" align="center"></el-table-column>
                            <!--el-table-column prop="nickname" label="用户名" align="center"></el-table-column-->
                            <el-table-column prop="name" label="用户名" align="center"></el-table-column>
                            <el-table-column prop="diff" label="平均难度" width="80" align="center"></el-table-column>
                        </el-table>
                    </el-card>
                </el-col>
                <el-col :xs="24" :s="24" :md="24" :lg="12" :xl="12">
                    <el-card header="难度最低的谱师">
                        <el-table :data='results["lowdiffcharterdetail"]' style="text-align: center;" stripe>
                            <el-table-column prop="i" label="排名" width="50" align="center"></el-table-column>
                            <!--el-table-column prop="nickname" label="用户名" align="center"></el-table-column-->
                            <el-table-column prop="name" label="用户名" align="center"></el-table-column>
                            <el-table-column prop="diff" label="平均难度" width="80" align="center"></el-table-column>
                        </el-table>
                    </el-card>
                </el-col>
            </el-row>
        </el-tab-pane>
        <el-tab-pane label="最热门的单曲/艺术家">
            <el-alert title="不完全统计，仅统计同名，对部分艺术家的不同写法有合并" type="warning"></el-alert>
            <p> </p>
            <el-row :gutter="20">
                <el-col :xs="24" :s="24" :md="24" :lg="12" :xl="12">
                    <el-card header="热门单曲">
                        <el-table :data='results["heatedsongdetail"]' style="text-align: center;" stripe>
                            <el-table-column prop="i" label="排名" width="50" align="center"></el-table-column>
                            <!--el-table-column prop="nickname" label="用户名" align="center"></el-table-column-->
                            <el-table-column prop="song" label="曲名" align="center"></el-table-column>
                            <el-table-column prop="count" label="数量" width="80" align="center"></el-table-column>
                        </el-table>
                    </el-card>
                </el-col>
                <el-col :xs="24" :s="24" :md="24" :lg="12" :xl="12">
                    <el-card header="热门艺术家">
                        <el-table :data='results["heatedartistdetail"]' style="text-align: center;" stripe>
                            <el-table-column prop="i" label="排名" width="50" align="center"></el-table-column>
                            <!--el-table-column prop="nickname" label="用户名" align="center"></el-table-column-->
                            <el-table-column prop="name" label="艺术家名" align="center"></el-table-column>
                            <el-table-column prop="count" label="数量" width="80" align="center"></el-table-column>
                        </el-table>
                    </el-card>
                </el-col>
            </el-row>
        </el-tab-pane>
    </el-tabs>
</div>